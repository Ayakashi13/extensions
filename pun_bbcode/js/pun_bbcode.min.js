if(typeof PUNBB==="undefined"||!PUNBB)var PUNBB={};
PUNBB.pun_bbcode=function(){return{init:function(){var b=document.getElementById("pun_bbcode_bar");b&&PUNBB.common.removeClass(b,"visual-hidden")},insert_text:function(b,d){var c,a=document.all?document.all.req_message:document.getElementById("afocus")!==null?document.getElementById("afocus").req_message:document.getElementsByName("req_message")[0];if(!a)return!1;if(document.selection&&document.selection.createRange)a.focus(),c=document.selection.createRange(),c.text=b+c.text+d;else if(a.selectionStart||
a.selectionStart===0){c=a.selectionStart;var e=a.selectionEnd,f=a.scrollTop;a.value=a.value.substring(0,c)+b+a.value.substring(c,e)+d+a.value.substring(e,a.value.length);a.selectionStart=b.charAt(b.length-2)==="="?c+b.length-1:e+b.length+d.length;a.selectionEnd=a.selectionStart;a.scrollTop=f}else a.value+=b+d;a.focus()}}}();PUNBB.common.addDOMReadyEvent(PUNBB.pun_bbcode.init);
